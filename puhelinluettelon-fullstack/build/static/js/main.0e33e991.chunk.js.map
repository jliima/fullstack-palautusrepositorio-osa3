{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","services/phonebook.js","components/Notification.js","App.js","index.js"],"names":["Filter","filter","setFilter","handleFilterChange","onSubmit","value","onChange","PersonForm","newName","newNumber","addPerson","handleSetNameChange","handleSetNumberChange","type","Persons","persons","deletePerson","renderPersons","map","person","id","key","name","number","onClick","filteredPersons","forEach","toLowerCase","includes","push","baseUrl","axios","get","then","response","data","newPerson","post","delete","put","Notification","message","notificationStyle","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","style","App","useState","setPersons","setNewName","setNewNumber","notificationMessage","setNotificationMessage","notificationColor","setNotificationColor","useEffect","phonebook","initialPersons","notification","setTimeout","event","target","preventDefault","arrayid","indexOf","returnedPerson","concat","window","confirm","personName","n","catch","error","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.0e33e991.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({filter, setFilter, handleFilterChange}) => (\r\n    <form onSubmit={setFilter}>\r\n        <div>filter shown with\r\n          <input\r\n            value={filter}\r\n            onChange={handleFilterChange}\r\n          />\r\n        </div>\r\n    </form> \r\n)\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = ({newName, newNumber, addPerson, \r\n    handleSetNameChange, handleSetNumberChange}) => (\r\n    <form onSubmit={addPerson}>\r\n        <div>name:\r\n            <input\r\n                value={newName}\r\n                onChange={handleSetNameChange}\r\n            />\r\n        </div>\r\n\r\n        <div>number:\r\n            <input\r\n                value={newNumber}\r\n                onChange={handleSetNumberChange}\r\n            />\r\n        </div>\r\n\r\n        <div>\r\n            <button type='submit'>add</button>\r\n        </div>\r\n\r\n    </form>\r\n)\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Persons = ({persons, filter, deletePerson}) => {\r\n    const renderPersons = (persons) => (\r\n      <>\r\n        {persons.map((person, id) => \r\n          <div key={id}>\r\n            {person.name} {person.number} <button onClick={() => deletePerson(person.id)}>delete</button>\r\n          </div>\r\n        )}\r\n      </>\r\n    )\r\n    \r\n    if (filter === '') {\r\n      return renderPersons(persons)\r\n    }\r\n  \r\n    const filteredPersons = []\r\n  \r\n    persons.forEach((person) => {\r\n      if (person.name.toLowerCase().includes(filter.toLowerCase())) {\r\n        filteredPersons.push(person)\r\n      }\r\n    })\r\n  \r\n    return renderPersons(filteredPersons)\r\n  }\r\n\r\nexport default Persons","import axios from 'axios'\r\n\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = newPerson => {\r\n    const request = axios.post(baseUrl, newPerson)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst deletePerson = id => {\r\n    const request = axios.delete(`${baseUrl}/${id}`, )\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newPerson) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newPerson)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default {getAll, create, deletePerson, update}","import React from 'react'\r\n\r\nconst Notification = ({message, color}) => {\r\n    const notificationStyle = {\r\n        color: color,\r\n        background: 'lightgrey',\r\n        fontSize: '20',\r\n        borderStyle: 'solid',\r\n        borderRadius: '5',\r\n        padding: '10',\r\n        marginBottom: '10'\r\n    }\r\n\r\n    if (message === null) {\r\n        return null\r\n    }\r\n\r\n    return (\r\n        <div style={notificationStyle}>\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport phonebook from './services/phonebook'\nimport Notification from './components/Notification'\n\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [ filter, setFilter ] = useState('')\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [notificationMessage, setNotificationMessage] = useState(null)\n  const [notificationColor, setNotificationColor] = useState(null)\n\n  useEffect(() => {\n    phonebook\n      .getAll()\n        .then(initialPersons => {\n          setPersons(initialPersons)\n        })\n  }, [])\n\n  const notification = (color, message) => {\n    setNotificationColor(color)\n    setNotificationMessage(message)\n    setTimeout(() => {\n      setNotificationMessage(null)\n    }, 3000)\n  }\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const newPerson = {\n      name: newName,\n      number: newNumber\n    }\n\n    const arrayid = persons.map(person => person.name).indexOf(newName)\n\n    if (arrayid === -1) {\n      phonebook\n        .create(newPerson)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          setNewName('')\n          setNewNumber('')\n          notification('green', `Addded ${newName}`)\n        })\n\n    } else if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n      const id = persons[arrayid].id\n      phonebook\n        .update(id, newPerson)\n        .then(returnedPerson => {\n          setPersons(persons.map(person => person.id !== id ? person : returnedPerson))\n          setNewName('')\n          setNewNumber('')\n          notification('green', `The phonenumber of ${newName} has been changed`)\n        })\n    }\n\n  }\n  \n  const deletePerson = (id) => {\n    const personName = persons.filter(n => n.id === id)[0].name\n    if (window.confirm(`Delete ${personName}?`)) {\n      phonebook\n        .deletePerson(id)\n        .then(response => {\n          notification('red', `Deleted ${personName}`)\n          setPersons(persons.filter(n => n.id !== id))\n        })\n        .catch(error => {\n          notification('red', `The person '${personName}' was already deleted from server.`)\n          setPersons(persons.filter(n => n.id !== id))\n        })\n    }\n  }\n\n  const handleSetNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleSetNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    setFilter(event.target.value)\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={notificationMessage} color={notificationColor} />\n      <Filter filter={filter} setFilter={setFilter} \n                               handleFilterChange={handleFilterChange} />\n      \n      <h3>Add a new</h3>\n      <PersonForm newName={newName} newNumber={newNumber} \n                  addPerson={addPerson} handleSetNameChange={handleSetNameChange} \n                  handleSetNumberChange={handleSetNumberChange} />\n\n      <h3>Numbers</h3>\n      <Persons persons={persons} filter={filter} deletePerson={deletePerson} />\n\n    </div>\n  )\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)"],"sourceRoot":""}